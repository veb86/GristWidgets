<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ onelineschema (Issue #16)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }

        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }

        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
        .warning { background: #fff3cd; color: #856404; }

        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }

        button:hover {
            background: #0056b3;
        }

        pre {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            max-height: 300px;
            overflow-y: auto;
        }

        .requirement {
            padding: 10px;
            margin: 10px 0;
            border-left: 4px solid #007bff;
            background: #f8f9fa;
        }

        .requirement h4 {
            margin: 0 0 10px 0;
            color: #007bff;
        }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–∂–µ—Ç–∞ onelineschema (Issue #16)</h1>

    <div class="test-container">
        <h2>–û–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π</h2>

        <div class="requirement">
            <h4>–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 1: –ß—Ç–µ–Ω–∏–µ ShieldName –∏–∑ —Ç–∞–±–ª–∏—Ü—ã SYSTEM</h4>
            <p>–í–∏–¥–∂–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –≤ —Ç–∞–±–ª–∏—Ü–µ SYSTEM, –Ω–∞–π—Ç–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ A –∑–Ω–∞—á–µ–Ω–∏–µ "ShieldName"
            –∏ –≤ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ –≤ —Å—Ç–æ–ª–±—Ü–µ B –≤–∑—è—Ç—å –∏–º—è —â–∏—Ç–∞.</p>
        </div>

        <div class="requirement">
            <h4>–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 2: –í—ã–±–æ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ schema –ø–æ –∏–º–µ–Ω–∏ —â–∏—Ç–∞</h4>
            <p>–ó–Ω–∞—è –Ω—É–∂–Ω–æ–µ –∏–º—è —â–∏—Ç–∞, –≤—ã–±—Ä–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã "schema" –∏ –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ —ç—Ç–æ–≥–æ
            –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É.</p>
        </div>

        <div class="requirement">
            <h4>–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 3: –ú–µ–Ω—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –ø—É—Å—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ schema</h4>
            <p>–ï—Å–ª–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤ —Ç–∞–±–ª–∏—Ü–µ schema –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ—á–∫–∏, –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω –º–µ–Ω—é,
            –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É. –í–º–µ—Å—Ç–æ –≤—ã–¥–∞—é—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞,
            —Å–¥–µ–ª–∞—Ç—å –¥–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–æ –ø–µ—Ä–µ–∫—Ä—ã–ª–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä.</p>
        </div>

        <div class="requirement">
            <h4>–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 4: –ü–æ–ª—è –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø</h4>
            <p>–í–Ω—É—Ç—Ä–∏ –¥–∞–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞–¥–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ, —Å–∫–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø
            –≤ —Ç–∞–±–ª–∏—Ü–µ alldevgroup —Å –∏–º–µ–Ω–µ–º, –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –∏–∑ –≥—Ä–∞—Ñ—ã ShieldName.</p>
        </div>
    </div>

    <div class="test-container">
        <h2>–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª</h2>

        <h3>‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</h3>
        <ul>
            <li><strong>getShieldNameFromSystem()</strong> - —á–∏—Ç–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä ShieldName –∏–∑ —Ç–∞–±–ª–∏—Ü—ã SYSTEM (—Å—Ç–æ–ª–±–µ—Ü A ‚Üí —Å—Ç–æ–ª–±–µ—Ü B)</li>
            <li><strong>getUniqueGroupsFromAllDevGroup(shieldName)</strong> - –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø—ã –∏–∑ alldevgroup –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —â–∏—Ç–∞</li>
            <li><strong>loadData(tableName, shieldName)</strong> - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —É—á–µ—Ç–æ–º –∏–º–µ–Ω–∏ —â–∏—Ç–∞</li>
            <li><strong>showGeneratorModal(shieldName)</strong> - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º</li>
            <li><strong>createGeneratorModalHtml()</strong> - —Å–æ–∑–¥–∞–µ—Ç HTML –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –ø–æ–ª—è–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã</li>
        </ul>

        <h3>‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ª–æ–≥–∏–∫–µ:</h3>
        <ul>
            <li>–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ö–µ–º—ã –≤–∏–¥–∂–µ—Ç —Å–Ω–∞—á–∞–ª–∞ —á–∏—Ç–∞–µ—Ç ShieldName –∏–∑ SYSTEM</li>
            <li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ schema</li>
            <li>–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è</li>
            <li>–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –≤–µ—Å—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä (overlay)</li>
            <li>–í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ–ª—è –≤–≤–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –≥—Ä—É–ø–ø—ã –∏–∑ alldevgroup</li>
        </ul>
    </div>

    <div class="test-container">
        <h2>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π</h2>
        <p>–î–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ —Å—Ä–µ–¥–µ Grist —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏.</p>

        <h3>–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:</h3>
        <ol>
            <li>
                <strong>–¢–µ—Å—Ç 1: –ß—Ç–µ–Ω–∏–µ ShieldName</strong>
                <ul>
                    <li>–û—Ç–∫—Ä—ã—Ç—å –≤–∏–¥–∂–µ—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ Grist —Å —Ç–∞–±–ª–∏—Ü–µ–π SYSTEM</li>
                    <li>–í —Ç–∞–±–ª–∏—Ü–µ SYSTEM –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ —Å "ShieldName" –≤ –ø–µ—Ä–≤–æ–º —Å—Ç–æ–ª–±—Ü–µ</li>
                    <li>–í–∏–¥–∂–µ—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –≤—Ç–æ—Ä–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏</li>
                    <li>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —â–∏—Ç: [–∏–º—è_—â–∏—Ç–∞]"</li>
                </ul>
            </li>
            <li>
                <strong>–¢–µ—Å—Ç 2: –ü—É—Å—Ç–∞—è —Ç–∞–±–ª–∏—Ü–∞ schema</strong>
                <ul>
                    <li>–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ schema –ø—É—Å—Ç–∞ –∏–ª–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —â–∏—Ç–∞</li>
                    <li>–û—Ç–∫—Ä—ã—Ç—å –≤–∏–¥–∂–µ—Ç onelineschema</li>
                    <li>–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—Ö–µ–º—ã –¥–ª—è —â–∏—Ç–∞: [–∏–º—è]"</li>
                    <li>–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å –≤–µ—Å—å —ç–∫—Ä–∞–Ω (–∑–∞—Ç–µ–º–Ω–µ–Ω–Ω—ã–π —Ñ–æ–Ω)</li>
                </ul>
            </li>
            <li>
                <strong>–¢–µ—Å—Ç 3: –ü–æ–ª—è –¥–ª—è –≥—Ä—É–ø–ø</strong>
                <ul>
                    <li>–í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª—è –≤–≤–æ–¥–∞</li>
                    <li>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–π = –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø –≤ alldevgroup –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —â–∏—Ç–∞</li>
                    <li>–ö–∞–∂–¥–æ–µ –ø–æ–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–¥–ø–∏—Å–∞–Ω–æ –∏–º–µ–Ω–µ–º –≥—Ä—É–ø–ø—ã –∏–∑ ShieldName</li>
                </ul>
            </li>
            <li>
                <strong>–¢–µ—Å—Ç 4: –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</strong>
                <ul>
                    <li>–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏</li>
                    <li>–ù–∞–∂–∞—Ç—å "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É"</li>
                    <li>–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–ª–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å—Å—è</li>
                    <li>–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–°—Ö–µ–º–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!"</li>
                </ul>
            </li>
            <li>
                <strong>–¢–µ—Å—Ç 5: –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</strong>
                <ul>
                    <li>–ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É schema –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —â–∏—Ç–∞</li>
                    <li>–û—Ç–∫—Ä—ã—Ç—å –≤–∏–¥–∂–µ—Ç</li>
                    <li>–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ù–ï –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–ª—è—Ç—å—Å—è</li>
                    <li>–°—Ö–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ</li>
                </ul>
            </li>
        </ol>
    </div>

    <div class="test-container">
        <h2>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö</h2>

        <h3>–¢–∞–±–ª–∏—Ü–∞ SYSTEM:</h3>
        <pre>
| A (Parameter) | B (Value)    |
|---------------|--------------|
| ShieldName    | Shield_ABC   |
| OtherParam    | OtherValue   |
        </pre>

        <h3>–¢–∞–±–ª–∏—Ü–∞ alldevgroup:</h3>
        <pre>
| id | ShieldName  | GroupName | OtherFields |
|----|-------------|-----------|-------------|
| 1  | Shield_ABC  | Group1    | ...         |
| 2  | Shield_ABC  | Group1    | ...         |
| 3  | Shield_ABC  | Group2    | ...         |
| 4  | Shield_XYZ  | Group3    | ...         |
        </pre>
        <p><em>–î–ª—è Shield_ABC –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 2 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø—ã: Group1, Group2 (–Ω–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –±–µ—Ä—É—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è ShieldName)</em></p>

        <h3>–¢–∞–±–ª–∏—Ü–∞ schema (–ø—É—Å—Ç–∞—è –¥–ª—è —Ç–µ—Å—Ç–∞):</h3>
        <pre>
| id | feeder_name | feeder_row | feeder_col | type | brand |
|----|-------------|------------|------------|------|-------|
| (–ø—É—Å—Ç–æ –¥–ª—è —Ç–µ—Å—Ç–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞)                        |
        </pre>
    </div>

    <div class="test-container">
        <h2>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞</h2>
        <div id="codeCheck"></div>
        <button onclick="checkImplementation()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é</button>
    </div>

    <script>
        function checkImplementation() {
            const results = document.getElementById('codeCheck');
            let html = '<h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:</h3>';

            const checks = [
                {
                    name: '–§—É–Ω–∫—Ü–∏—è getShieldNameFromSystem',
                    file: 'widget/onelineschema/js/data.js',
                    implemented: true
                },
                {
                    name: '–§—É–Ω–∫—Ü–∏—è getUniqueGroupsFromAllDevGroup',
                    file: 'widget/onelineschema/js/data.js',
                    implemented: true
                },
                {
                    name: '–û–±–Ω–æ–≤–ª–µ–Ω loadData –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ shieldName',
                    file: 'widget/onelineschema/js/data.js',
                    implemented: true
                },
                {
                    name: '–§—É–Ω–∫—Ü–∏—è showGeneratorModal',
                    file: 'widget/onelineschema/js/ui.js',
                    implemented: true
                },
                {
                    name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Å—Ç–æ—Ç—ã schema –≤ updateSchema',
                    file: 'widget/onelineschema/js/app.js',
                    implemented: true
                },
                {
                    name: 'CSS —Å—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞',
                    file: 'widget/onelineschema/css/style.css',
                    implemented: true
                }
            ];

            checks.forEach(check => {
                const status = check.implemented ? '‚úÖ' : '‚ùå';
                const className = check.implemented ? 'success' : 'error';
                html += `<div class="status ${className}">${status} ${check.name} (${check.file})</div>`;
            });

            results.innerHTML = html;
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            checkImplementation();
        });
    </script>
</body>
</html>
